---
const { name, description, slug, required, disabled, options, number } =
  Astro.props;
import { marked } from "marked";
let markdown;
if (description != null) {
  markdown = marked.parse(description);
}
---

<div>
  <div class="flex justify-between">
    <label for={slug} class="block text-sm font-medium text-gray-700"
      ><span class="text-gray-400 text-sm mr-1">{number}.</span> {name}</label
    >
    <span class="text-sm text-gray-400" id="email-required"
      >{required == true && `Required`}</span
    >
  </div>
  <div
    class="mt-2 text-sm text-gray-500 leading-relaxed prose"
    id={`${slug}-description}`}
    set:html={markdown}
  />
  {
    () => {
      description && (
        <div
          class="mt-2 text-sm text-gray-500 leading-relaxed prose"
          id={`${slug}-description}`}
          set:html={markdown}
        />
      );
    }
  }
  <select
    id={slug}
    name={slug}
    class="mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-violet-500 focus:outline-none focus:ring-violet-500 sm:text-sm"
  >
    {
      options.map((option) => (
        <option value={option.code ? option.code : option.slug}>
          {option.name}
        </option>
      ))
    }
  </select>
</div>
