---
import nav from "../../data/json/nav.json";
import Logo from "../OrangeLogo.astro";
import Dropwdown from "./Dropdown.astro";
---

<div x-data="{ tar: false }" class="lg:hidden" role="dialog" aria-modal="true">
    <!-- Background backdrop, show/hide based on slide-over state. -->
    <div class="fixed inset-0 z-10"></div>
    <button x-on:click="open = ! open">Toggle Dropdown</button>
    <div
        x-show="tar"
        class="fixed inset-y-0 right-0 z-10 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10"
    >
        <div class="flex items-center justify-between">
            <a href="/">
                <span class="sr-only">UnLtd</span>
                <Logo colour="amber-600" />
            </a>
            <button type="button" class="-m-2.5 rounded-md p-2.5 text-gray-700">
                <span class="sr-only">Close menu</span>
                <i class="fa-solid fa-xmark h-6 w-6"></i>
            </button>
        </div>
        <div class="mt-6 flow-root">
            <div class="-my-6 divide-y divide-gray-500/10">
                <p>text</p>
                <ul class="navbar hidden ml-10 space-x-8 lg:flex list-none">
                    {
                        nav.header.main.map((navItem, i, navItems) => (
                            <>
                                <Dropwdown
                                    name={navItem.name}
                                    slug={navItem.slug}
                                    link={navItem.link}
                                    children={navItem.children}
                                    last={i + 1 === navItems.length}
                                />
                            </>
                        ))
                    }
                </ul>
            </div>
        </div>
    </div>
</div>
