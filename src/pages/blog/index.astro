---
import Template from "../../layouts/Template.astro";
import Container from "../../components/Container.astro";
import Breadcrumbs from "../../components/Breadcrumbs.astro";
import moment from "moment";
import slugify from "slugify";

import { posts } from "../../data/posts.js";

const name = "Blog";
const slug = "blog";
const description = "Read our posts";
const breadcrumbs = [
  {
    name: name,
    slug: slug,
  },
];
---

<Template name={name} description={description}>
  <Container>
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl text-center mt-14">
        <h2
          class="text-3xl font-bold tracking-tight text-violet-800 dark:text-violet-200 sm:text-4xl"
        >
          Blog
        </h2>
        <p class="mt-2 text-lg leading-8 text-violet-700 dark:text-violet-300">
          Learn how to grow your business with our expert advice.
        </p>
      </div>
      <div
        class="mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-3"
      >
        {
          posts.map((post) => (
            <a href={`/blog/${post.slug}`}>
              <article class="flex flex-col items-start justify-between transition hover:bg-violet-100 dark:hover:bg-violet-900 hover:outline-violet-200 hover:dark:outline-violet-800 p-6 rounded-2xl">
                <div class="relative w-full">
                  <img
                    src={`/img/blog/${slugify(post.tag, { lower: true, strict: true, locale: "en", trim: true })}.webp`}
                    alt=""
                    class="aspect-[16/9] w-full rounded-2xl bg-violet-100 object-cover sm:aspect-[2/1] lg:aspect-[3/2]"
                  />
                  <div class="absolute inset-0 rounded-2xl ring-1 ring-inset ring-violet-900/10" />
                </div>
                <div class="max-w-xl">
                  <div class="mt-8 flex items-center gap-x-4 text-xs">
                    <time
                      datetime={post.date_time}
                      class="text-violet-600 dark:text-violet-400"
                    >
                      {moment(post.date_time).format("ddd hh:mm, DD MMM YYYY")}
                    </time>
                    <span class="relative z-10 rounded-full bg-violet-100 dark:bg-violet-900 px-3 py-1.5 font-medium text-violet-600 dark:text-violet-400">
                      {post.tag}
                    </span>
                  </div>
                  <div class="group relative">
                    <h3 class="mt-3 text-lg font-semibold leading-6 text-violet-700 dark:text-violet-300">
                      <span class="absolute inset-0" />
                      {post.title}
                    </h3>
                  </div>
                  <p class="mt-5 line-clamp-3 text-sm leading-6 text-violet-600 dark:text-violet-400">
                    Illo sint voluptas. Error voluptates culpa eligendi. Hic vel
                    totam vitae illo. Non aliquid explicabo necessitatibus unde.
                    Sed exercitationem placeat consectetur nulla deserunt vel.
                    Iusto corrupti dicta.
                  </p>
                </div>
                <div class="relative mt-8 flex gap-x-4 text-sm leading-6 flex-col">
                  <p class="font-semibold text-violet-700 dark:text-violet-300">
                    <span class="absolute inset-0" />
                    {post.author_name}
                  </p>
                  <p class="text-violet-600 dark:text-violet-400">
                    {post.author_position}
                  </p>
                </div>
              </article>
            </a>
          ))
        }
      </div>
    </div>
  </Container>
</Template>
